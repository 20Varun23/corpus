{% extends 'base.html' %}

{% block title %}
    {{ user }} | Profile
{% endblock %}

{% block content %}
    <div class="w-5/6 md:w-2/3 my-10 mx-auto flex flex-col md:flex-row gap-8">
        <!-- Div with image, name, society and core member position if any -->
        <div class="w-full md:w-1/3 prose text-center p-5 border border-neutral rounded-lg md:border-none">
            {% if user.profile_pic %}
                <img src="{{ user.profile_pic.url }}" alt="{{ user }}" class="rounded rounded-full w-64 h-64 mx-auto"/>
            {% else %}
                <img src="https://api.dicebear.com/9.x/adventurer-neutral/svg?seed={{ exec_member.roll_number }}"
                     alt="{{ user }}" class="rounded rounded-full w-64 h-64 mx-auto"/>
            {% endif %}

            <h1 class="my-2">{{ user }}</h1>
            <!-- Todo
                <h2 class="my-1">Core Post comes here</h2>
            -->
            <h3 class="m-0">{{ exec_member.sig }}</h3>
        </div>

        <!-- Div with other information about the person -->
        <div class="w-full md:w-2/3 p-5 border border-neutral rounded-lg flex flex-col gap-2">
            <div tabindex="0" class="collapse collapse-arrow border-base-300 bg-base-200 border">
                <div class="collapse-title text-xl font-bold">Personal Information</div>
                <div class="collapse-content">
                    <div class="grid grid-cols-2 gap-5">
                        <div class="font-bold">Name</div>
                        <div>{{ user }}</div>
                        <div class="font-bold">Date Joined</div>
                        <div>{{ exec_member.date_joined.date }}</div>
                    </div>
                </div>
            </div>
            <div tabindex="0" class="collapse collapse-arrow border-base-300 bg-base-200 border">
                <div class="collapse-title text-xl font-bold">IEEE Membership Information</div>
                <div class="collapse-content">
                    <div class="grid grid-cols-2 gap-5">
                        <div class="font-bold">IEEE Membership Number</div>
                        <div>{{ exec_member.ieee_number }}</div>
                        <div class="font-bold">IEEE Membership Email</div>
                        <div>{{ exec_member.ieee_email }}</div>
                    </div>
                </div>
            </div>
            <div tabindex="0" class="collapse collapse-arrow border-base-300 bg-base-200 border">
                <div class="collapse-title text-xl font-bold">Reports Published</div>
                <div class="collapse-content">
                    {% if reports %}
                        <div class="grid grid-cols-1 gap-5">
                            <ul class="list-disc p-5">
                                {% for report in reports %}
                                    <li>
                                        <a href="{% url 'virtual_expo_report' report_id=report.id %}"
                                           class="link link-primary">
                                            [{{ report.year }}] {{ report.title }}
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% else %}
                        No reports available yet. Check back soon!
                    {% endif %}
                </div>
            </div>
            <div tabindex="0" class="collapse collapse-arrow border-base-300 bg-base-200 border">
                <div class="collapse-title text-xl font-bold">Blogs Published</div>
                <div class="collapse-content">
                    <!-- Todo after blogs are implemented
                    <p>tabindex="0" attribute is necessary to make the div focusable</p>
                    -->
                    Coming Soon!
                </div>
            </div>
            <div tabindex="0" class="collapse collapse-arrow border-base-300 bg-base-200 border">
                <div class="collapse-title text-xl font-bold">Links</div>
                <div class="collapse-content">
                    <div class="grid grid-cols-2 gap-5">
                        <div class="font-bold">GitHub</div>
                        <div>
                            {% if exec_member.github %}
                                <a href="https://github.com/{{ exec_member.github }}">{{ exec_member.github }}</a>
                            {% else %}
                                None
                            {% endif %}
                        </div>
                        <div class="font-bold">LinkedIn</div>
                        <div>
                            {% if exec_member.linedin %}
                                <a href="{{ exec_member.linkedin }}">{{ exec_member.linkedin }}</a>
                            {% else %}
                                None
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}